# NoSQL

## 1.NoSQL简介

NoSQL，指的是非关系型的数据库。NoSQL有时也称作Not Only SQL的缩写，是对不同于传统的关系型数据库的数据库管理系统的统称。

**主要存储方式**：键 - 值对存储，列存储，文档存储，图形数据库

| 类型          | 部分代表                                     | 特点                                       |
| ----------- | ---------------------------------------- | ---------------------------------------- |
| 列存储         | Hbase/Cassandra/Hypertable               | 顾名思义，是按列存储数据的。最大的特点是方便存储结构化和半结构化数据，方便做数据压缩，对针对某一列或者某几列的查询有非常大的IO优势。 |
| 文档存储        | MongoDB/CouchDB                          | 文档存储一般用类似json的格式存储，存储的内容是文档型的。这样也就有有机会对某些字段建立索引，实现关系数据库的某些功能。 |
| key-value存储 | Tokyo Cabinet / Tyrant/Berkeley DB/MemcacheDB/Redis | 可以通过key快速查询到其value。一般来说，存储不管value的格式，照单全收。（Redis包含了其他功能） |
| 图存储         | Neo4J/FlockDB                            | 图形关系的最佳存储。使用传统关系数据库来解决的话性能低下，而且设计使用不方便。  |
| 对象存储        | db4o/Versant                             | 通过类似面向对象语言的语法操作数据库，通过对象的方式存取数据。          |
| xml数据库      | Berkeley DB XML/BaseX                    | 高效的存储XML数据，并支持XML的内部查询语法，比如XQuery,Xpath。 |

NoSQL的优势：

- **易扩展**    数据之间无关系
- **大数据量，高性能**    具有非常高的读写性能
- **灵活的数据模型**    需事先为要存储的数据建立字段，随时可以存储自定义的数据格式
- **高可用**    可以方便地实现高可用的架构

NoSQL数据库的出现，弥补了关系数据（比如MySQL）在某些方面的不足，在某些方面能极大的节省开发成本和维护成本。

## 2.redis和memcached区别

1、Redis和Memcache都是将数据存放在内存中，都是内存数据库。不过memcache还可用于缓存其他东西，例如图片、视频等等；

2、Redis不仅仅支持简单的k/v类型的数据，同时还提供list，set，hash等数据结构的存储；

3、虚拟内存--Redis当物理内存用完时，可以将一些很久没用到的value 交换到磁盘；

4、过期策略--memcache在set时就指定，例如set key1 0 0 8,即永不过期。Redis可以通过例如expire 设定，例如expire name 10；

5、分布式--设定memcache集群，利用magent做一主多从;redis可以做一主多从。都可以一主一从；

6、存储数据安全--memcache挂掉后，数据没了；redis可以定期保存到磁盘（持久化）；

7、灾难恢复--memcache挂掉后，数据不可恢复; redis数据丢失后可以通过aof恢复；

8、Redis支持数据的备份，即master-slave模式的数据备份；

9、应用场景不一样：Redis出来作为NoSQL数据库使用外，还能用做消息队列、数据堆栈和数据缓存等；Memcached适合于缓存SQL语句、数据集、用户临时性数据、延迟查询数据和session等。